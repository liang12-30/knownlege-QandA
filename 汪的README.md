你正在开发金融多模态知识库构建与复杂问答检索系统，严格遵循AiC2025赛题规则。以下硬性要求必须100%实现，缺一不可：

### 核心任务与硬性约束
1. **文档解析模块**  
   - 支持格式：`.docx`, `.pdf`, `.xlsx`, `.pptx`, `.txt`, `.md`, `.png`, `.jpeg`。  
   - **硬性要求**：  
     - 对`.pdf`/`.pptx`：必须使用板式解析（如`layoutparser`库），输出结构化数据（含标题/段落/表格坐标）。  
     - 对`.png`/`.jpeg`：必须调用OCR（`pytesseract`+`Pillow`），先转文字再解析。  
     - 对`.xlsx`：必须提取表格数据及相邻说明文字（用`pandas`读取，关联单元格上下文）。  
     - 所有解析结果存入结构化知识库（JSON格式），字段：`{doc_id, title, content, type}`。

2. **意图理解模块**  
   - **硬性要求**：  
     - 多意图问题：必须拆解子意图（例："贷款流程+利率政策" → 返回`["流程", "政策"]`）。  
     - 推理问题：必须基于知识库逻辑推理（例：输入客户数据+信贷政策 → 输出"符合/不符合"及依据）。  
     - 总结类问题：必须标记为`summary`类型，触发归纳逻辑。  
     - 使用`transformers`微调金融BERT模型（`hfl/chinese-roberta-wwm-ext`），输出意图标签。

3. **检索与排序模块**  
   - **硬性要求**：  
     - 每个问题仅返回**Top3知识点**，按相关性排序（用`sentence-transformers`计算余弦相似度）。  
     - **单知识点内容≤1500字**：超长则截断末尾，保留核心信息。  
     - 多跳问题：必须执行多步检索（例：先查"贷款条件" → 再查"客户资质" → 关联结果）。  
     - 总结类问题：必须调用`TextRank`或`BERTSUM`生成≤300字的摘要。  
     - 输出格式：`{top3: [{content: str, score: float}]}`。

### 项目范围界定
- ✖ **禁止**：开发前端网站、使用商业API服务、依赖网络连接
- ✔ **必须**：仅实现后端算法系统，提供简单API接口（如FastAPI）
- ✔ **模型要求**：全部使用开源模型且本地部署，优先选择轻量级方案保证推理速度

### 生成的文件说明
必须：
1.生成result.json
2.编码必须是UTF-8
3.顶层结构必须为 JSON 数组，数组中的每一项是独立对象，每个对象仅包含1个question_id和其对应的knowledge_points数组
4.结构实例
 {"question_id": "Q20231001002",
 "knowledge_points": [
 "知识点1的文本内容...",
 "知识点2的文本内容...",
 "知识点3的文本内容..."]}···

### 模型类型规范
- 必须选择以下两种路径之一：
 1. 完全自研模型：需在技术方案中完整披露模型架构设计（附架构图）、训练数据来源（仅限竞赛数据集）、训练日志及性能验证报告
 2. 开源模型二次开发：仅允许使用MIT/Apache2.0协议基座模型（如FinBERT、金融BERT-wwm），需在报告中标注模型版本、开源协议类型及修改明细（例：增加金融实体识别层/调整注意力机制）
- 禁止使用GPL协议模型、未授权商业模型或非开源模型

### 交付物说明
- 仅需提供：算法代码、模型权重（如微调过）、简易使用说明
- 无需提供：前端界面、数据库部署脚本、云服务配置

 ### 多跳检索验证
- 必须处理至少2跳问题（测试用例：`"客户月收入8000元，申请50万贷款需满足哪些条件？"`）
- 输出需包含推理路径（例：`"步骤1：查贷款条件 → 步骤2：验证客户资质"`）

### 关键约束（违反即失败）
- ✖ **禁止**：关键词匹配检索、忽略板式解析、OCR缺失、输出>3个结果、知识点>1500字。  
- ✔ **必须**：  
  - 金融术语准确（如"信用贷款"不可简化为"贷款"）。  
  - 处理文档用`faiss`向量库加速检索。  
  - 输入：用户问题字符串；输出：Top3知识点列表（纯文本）。  
- ✅ **测试用例**：  
  - 输入多意图问题："个人住房贷款流程和最新LPR利率" → 输出2个独立知识点。  
  - 输入推理问题："月收入8000元，负债2000元，申请50万信用贷款是否合规" → 输出推理依据。  

### 代码实现要求
- 语言：Python 3.10+  
- 依赖库：`layoutparser`, `pytesseract`, `pandas`, `transformers`, `sentence-transformers`, `faiss`  

- **严禁**：硬编码规则、外部API调用、忽略字数限制。优先使用开源方案，确保可复现。  

现在生成完整代码。